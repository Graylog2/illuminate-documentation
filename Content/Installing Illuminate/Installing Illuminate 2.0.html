<?xml version="1.0" encoding="utf-8"?>
<html lang="en" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../Resources/TableStyles/Alternate-Row-Color.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!--2,"Name":"Installing Illuminate 2.0","Icon":null,"Languages":[{"Code":"en",--><title>Installing Illuminate
 2.0</title>
        <!--installing-illuminate-2x",-->
    </head>
    <body>
        <p class="ProductBanner">
            <MadCap:snippetText src="../Resources/Snippets/IlluminateBanner.flsnp" />
        </p>
        <p>This guide assumes you have at least Graylog Illuminate 2.0.0 on Graylog Operations. It does not cover
    <strong>upgrading Illuminate</strong> from versions 1.x to 2.x. Refer to
    <a href="https://go2docs.graylog.org/5-0/what_more_can_graylog_do_for_me/upgrading_to_illuminate_2.0.x.html">Upgrading to Illuminate 2.0</a> before
 starting this guide.</p>
        <p>Currently, you can download and install these versions:</p>
        <ul>
            <li>Illuminate 2.0.x</li>
            <li>Illuminate 2.1.0</li>
        </ul>
        <h2>Prerequisites</h2>
        <p>Prior to installation, you must have a Graylog Operations server, at least version 4.2.0,
 with a current Operations license.</p>
        <h2>Installing Graylog Illuminate 2.x.x</h2>
        <h3>Extract the Release File</h3>
        <p>The Graylog Illuminate 2.x.x release file can be extracted using a zip-format compatible archive tool. The contents
 differ based on version:</p>
        <table style="mc-table-style: url('../Resources/TableStyles/Alternate-Row-Color.css');width: 731px;" class="TableStyle-Alternate-Row-Color" cellspacing="21">
            <col class="TableStyle-Alternate-Row-Color-Column-Column1" style="width: 191px;" />
            <col style="width: 279px;" class="TableStyle-Alternate-Row-Color-Column-Column1" />
            <col style="width: 261px;" class="TableStyle-Alternate-Row-Color-Column-Column1" />
            <thead>
                <tr class="TableStyle-Alternate-Row-Color-Head-Header1">
                    <th style="text-align: left;" class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">Graylog Illuminate Version</th>
                    <th style="text-align: center;" class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">Directory Name</th>
                    <th style="text-align: center;" class="TableStyle-Alternate-Row-Color-HeadD-Column1-Header1">Archive File</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                    <td style="text-align: left;" class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">2.0.0</td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1"><code data-backticks="1" class="linecode">../graylog_illuminate.v2_0_0</code>
                    </td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body1"><code data-backticks="1" class="linecode">illuminate-bundle.v2_0_0.zip</code>
                    </td>
                </tr>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body2">
                    <td style="text-align: left;" class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">2.0.1</td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2"><code data-backticks="1"><code class="linecode">../graylog_illuminate.v2_0_1</code></code>
                    </td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body2"><code data-backticks="1" class="linecode">illuminate-bundle.v2_0_1.zip</code>
                    </td>
                </tr>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                    <td style="text-align: left;" class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body1">2.1.0</td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body1"><code data-backticks="1" class="linecode">../graylog_illuminate.v2_1_0</code>
                    </td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyA-Column1-Body1"><code data-backticks="1" class="linecode">bundle.v2_1_0.zip</code>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The version you install can be extracted into a directory named
    <code data-backticks="1" class="linecode">graylog_illuminate.v2_x_x</code>.
 Inside this directory, there will be a release notes file, the Illuminate ”<code data-backticks="1" class="linecode">bundle</code>”
 archive file named <code data-backticks="1" class="linecode">&lt;archive_file_name&gt;.v2_x_x.zip</code>, and a Spotlights directory
 that contains all of the Graylog Illuminate Spotlight content pack files you have obtained.</p>
        <p>Here’s an example
 of the file structure on an Ubuntu distribution:</p>
        <p>
            <img src="../Resources/Images/Installing Illuminate 2.0/Install_illuminate_2x_1.png" />
        </p>
        <p>The Illuminate bundle archive file contains all of the technology packs that perform the identification, parsing
 and normalization, categorization, and enrichment of supported event log messages.</p>
        <p>The Spotlights directory
 contains Graylog content pack files that provide the dashboards, saved searches, and event definitions for
 Graylog.</p>
        <h3>Upload Graylog Illuminate</h3>
        <ol>
            <li>
                <p>Log in to your Graylog Operations server with an account that has administrator privileges. Click on the <i>Operations</i> menu and select <i>Illuminate</i>.<img src="../Resources/Images/Illuminate Processing Management/dropdown.png" /></p>
            </li>
            <li>
                <p>The Illuminate Installer page will open. <img src="../Resources/Images/Illuminate Processing Management/install.png" /></p>
            </li>
            <li>
                <p>Click to select, or drag and drop the Illuminate bundle ZIP file — e.g., <code data-backticks="1" class="linecode">bundle.v2_1_0.zip</code><code class="linecode"><![CDATA[
]]></code>        — located in the extracted directory — e.g., <code data-backticks="1" class="linecode">./graylog_illuminate.v2_1_0</code>.</p>
            </li>
            <li>
                <p>If you receive the error <code data-backticks="1"><code class="linecode">Failed to read bundle metadata 'bundle.toml' file. Please
 try again.</code></code>, verify that you have selected the correct archive file.</p>
            </li>
            <li>
                <p>After the Illuminate bundle file has been uploaded, a list of available technology packs and add-ons will
 appear. Activating these packs will be covered in the following
 sections.<br /></p>
            </li>
        </ol>
        <h3>Activate Graylog Illuminate Technology Packs and Add-ons</h3>
        <h4>About Add-Ons</h4>
        <p>The two available
 optional add-ons with Illuminate are “GIM Enforcement” and “Geolocation and AS Enrichment.” For more information
 about GIM enforcement, please <a href="https://go2docs.graylog.org/5-0/what_more_can_graylog_do_for_me/installing_illuminate_2.0.html">read about GIM
 Enforcement</a> at the end of this article.</p>
        <p>In 2.1, two technology packs support geolocation and ASN
 enrichments:</p>
        <ul>
            <li>one supporting MaxMind city and ASN databases</li>
            <li>and another supporting IPinfo city and ASN databases.</li>
        </ul>
        <section class="warningBox">
            <div class="title"><b>Warning</b>: <span style="font-weight: normal;">We recommend that you install only one of these packs with its respective database
 files. If you install both packs, with no files your instance will receive error messages about missing database
 files.</span></div>
        </section>
        <h4>Enabling MaxMind Geolocation and ASN Enrichment</h4>
        <p>The “Geolocation and AS Enrichment Add-on for
 MaxMind Databases Geolocation and ASN Enrichment” requires that two files be installed on every Graylog
 Operations node in your cluster:</p>
        <ul>
            <li>The MaxMind City database in MMDB format with the filename <code data-backticks="1" class="linecode">GeoLite2-City.mmdb</code></li>
            <li>The MaxMind ASN database in MMDB format with the filename <code data-backticks="1" class="linecode">GeoLite2-ASN.mmdb</code></li>
        </ul>
        <p>These files must be placed in the directory <code data-backticks="1" class="linecode">/etc/graylog/server</code> for the
 enrichment to function.</p>
        <h4>Enabling IPinfo Geolocation and ASN Enrichment</h4>
        <section class="infoBox">
            <div class="title"><b>Hint</b>:&#160;<span style="font-weight: normal;">As of version 2.1, you can enable IPinfo services on Graylog Illuminate.</span></div>
        </section>
        <p>The “Geolocation and AS Enrichment Add-on for IPinfo Databases” requires that two files be installed on
 every Graylog Operations node in your cluster:</p>
        <ul>
            <li>The IPinfo City database in MMDB format with the filename <code data-backticks="1" class="linecode">standard_location.mmdb</code></li>
            <li>The IPinfo ASN database in MMDB format with the filename <code data-backticks="1" class="linecode">asn.mmdb</code></li>
        </ul>
        <p>These files must be placed in the directory <code data-backticks="1" class="linecode">/etc/graylog/server</code> for the
 enrichment to function.</p>
        <h4>Select Technology Packs and Add-Ons</h4>
        <ol>
            <li>From the list of available content, select the technology packs and optional add-ons you want to install.</li>
        </ol>
        <p>
            <img src="../Resources/Images/Illuminate Processing Management/processing packs.png" />
        </p>
        <ol start="2">
            <li>After verifying your selection(s), click on <em>Enable Selected</em> in the upper right corner.</li>
        </ol>
        <ol start="3">
            <li>The Illuminate Installer will enable the selected packs, and the Installer page will indicate which packs have
 been enabled. There may be a slight delay while Graylog enables the selected add-ons and technology packs.
    </li>
        </ol>
        <p>
            <img src="../Resources/Images/Illuminate Processing Management/enabled packs.png" />
        </p>
        <p>Illuminate is now operational and processing messages, but the installation is not yet complete.</p>
        <h3>Upload
 the Spotlight Content Packs</h3>
        <p>Graylog Illuminate includes Spotlight content packs that provide dashboards,
 saved searches, and event definitions to assist with analyzing your log data. These are installed using the content
 pack system as detailed in the previous section. (Please note that not every technology pack has an accompanying
 Spotlight.)</p>
        <p>There are also ”Core” and “Event Definitions” Spotlights available.</p>
        <h4>Core Spotlight</h4>
        <p>
    The Core Spotlight includes dashboards that are not associated with any specific technology but instead provide some
 insights into authentication in the Operations and a few investigative dashboards for researching user accounts and
 devices in your log data.</p>
        <h4>Event Definitions Spotlight</h4>
        <p>The Event Definitions content pack provides
 event definitions that can be used to generate alerts. Configuring the event definitions will be covered later in
 these instructions.</p>
        <p>To install the "Event Definitions" Spotlight:</p>
        <ol>
            <li>Click on the <em>System</em> drop-down menu and select <em>Content Packs</em>.</li>
        </ol>
        <ol start="2">
            <li>Click on the <em>Upload</em> button on the upper right hand corner of the page. You will be presented with an
        <em>Upload Content Pack</em> window.
    </li>
        </ol>
        <p>
            <img src="../Resources/Images/Illuminate Processing Management/upload.png" />
        </p>
        <ol start="3">
            <li>Click <em>Choose File</em> and navigate to the directory — e.g.
        <code data-backticks="1" class="linecode">graylog_illuminate.v2_0_0</code>— then the subdirectory <code data-backticks="1" class="linecode">../spotlights</code>.
 You will see a list of available Spotlight content pack files.
    </li>
        </ol>
        <p>
            <img src="https://cdn.document360.io/49d29856-3708-4e61-a1fc-cf1f90558543/Images/Documentation/Install_Illuminate_10.jpg" alt="Install_Illuminate_10" class="fr-fic fr-dii" />
        </p>
        <ol start="4">
            <li>
                <p>Select one you wish to upload, click <em>Open</em>, and then <em>Upload</em>. Repeat this process until you
 have uploaded all of the content packs you intend to install.</p>
            </li>
            <li>
                <p>The "Event Definitions" content pack is in the file with the file name that begins with
<code class="linecode"><![CDATA[        ]]></code><code data-backticks="1" class="linecode">illuminate_events_</code>. It may not be necessary to upload this file. Event
 Definitions are not released with every content pack. If you are upgrading from a release which provided event
 definitions to a version which did not release any newer versions then you can skip the “Configure Event
 Definitions” process. Review the table below to determine if there are additional event definitions that you can
 configure based on which versions you have installed and which you are upgrading to.</p>
            </li>
        </ol>
        <table style="mc-table-style: url('../Resources/TableStyles/Alternate-Row-Color.css');" class="TableStyle-Alternate-Row-Color" cellspacing="21">
            <thead>
                <tr class="TableStyle-Alternate-Row-Color-Head-Header1">
                    <th style="text-align: center;" class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">Illuminate Version</th>
                    <th style="text-align: center;" class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">Event Definitions File Name</th>
                    <th style="text-align: center;" class="TableStyle-Alternate-Row-Color-HeadD-Column1-Header1">Event Definitions Version</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">2.0.0</td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1"><code data-backticks="1" class="linecode">illuminate_events_2021_10_16.json</code>
                    </td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body1">4</td>
                </tr>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body2">
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">2.0.1</td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">—</td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body2">—</td>
                </tr>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body1">2.1.0</td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body1">—</td>
                    <td style="text-align: center;" class="TableStyle-Alternate-Row-Color-BodyA-Column1-Body1">—</td>
                </tr>
            </tbody>
        </table>
        <h3>Install the Spotlight Content Packs</h3>
        <p>After all of the Spotlight content packs have been activated and
 uploaded, they can now be installed.</p>
        <ol>
            <li>To the right of the <em>Content Packs</em> page and at the top of the content packs list is a <em>Filter</em>
        text box. Enter <code data-backticks="1" class="linecode">Illuminate</code> in this box and click the <em>Filter</em> button. You
 will see a list of the Spotlight content packs that you have uploaded.
    </li>
        </ol>
        <p>
            <img src="../Resources/Images/Illuminate Processing Management/filter.png" />
        </p>
        <ol start="2">
            <li>Click on the title of a content pack entry to install it, and a page will open providing some additional details
 about the Spotlight. On the left of the page is a list of available and installed versions. Click on the <em>Actions</em>
        button and select <em>Install</em> from the list.
</li>
        </ol>
        <p>
            <img src="../Resources/Images/Illuminate Processing Management/install packs.png" /><![CDATA[    ]]></p>
        <ol start="3">
            <li>Click on the <em>Content Packs</em> button on the upper right corner of the page to return to the list of
 uploaded content packs. Repeat this process to install all of the desired Spotlight content packs.
    </li>
        </ol>
        <h3>Configure Event Definitions</h3>
        <p>If you have installed the “Event Definitions” content pack, then these event
 definitions will be installed on your system; however, they are disabled by default. The event definitions provided
 with Illuminate 2.0.0 begin with revision 4. This revision contains updated rule definitions that were provided in
 previous Spotlight versions.</p>
        <ol>
            <li>To enable event definitions click on the <em>Alerts</em> menu item, then click on the <em>Event Definitions</em>
        button on the upper right-hand side of the <em>Alerts</em> page.
    </li>
        </ol>
        <ol start="2">
            <li>Note the Illuminate event definitions will have titles that all begin with “Illuminate” and are all disabled. To
 enable an alert, click on the <em>More</em> button to the right of the event definition to activate and click on
 the <em>Enable</em> button.
    </li>
        </ol>
        <p>
            <img src="../Resources/Images/Illuminate Processing Management/disabled.png" />
        </p>
        <p>Event definitions can and likely should be customized to match your environment. This includes adjusting
 thresholds, search schedules, and notifications. It is important to note that these customizations will be lost if
 the content pack is ever uninstalled.</p>
        <h2>GIM Enforcement</h2>
        <h3>About GIM Enforcement</h3>
        <p>One of the changes
 included with Illuminate 2.0 is the ability to enable and disable GIM Enforcement on demand.</p>
        <h3>What is
 GIM?</h3>
        <p>GIM, short for Graylog Information Model, is how we ensure known types of messages that have been
 properly categorized will have the necessary fields required for processing.</p>
        <h3>Why Enable GIM Enforcement?</h3>
        <p>GIM Enforcement will ensure that all events that have been categorized and intended to be available for search and
 aggregation, even if the message has been parsed incorrectly. This can be due to log format changes between versions
 of a product or unexpected data in the message that the parsing logic did not account for.</p>
        <p>For example, all
 logon events should have the field <code data-backticks="1" class="linecode">user_name</code>. With GIM Enforcement enabled, any
 message that has been categorized but is missing one of these required fields will have a default value assigned,
 and the field <code data-backticks="1" class="linecode">gim_error</code> field will be added indicating that the message is
 incomplete. This will ensure that searches, which look for logon messages by
<code class="linecode"><![CDATA[    ]]></code><code data-backticks="1" class="linecode">user_name</code>, will include these messages in related search results and aggregations.
</p>
        <p>Without GIM enforcement messages may not be included in search results or aggregations if they have been
 improperly parsed or if they are malformed in some way.</p>
        <section class="infoBox">
            <div class="title"><b>Hint</b>:&#160;<span style="font-weight: normal;">Enabling GIM Enforcement will incur additional computational costs.</span></div>
        </section>
        <!--OriginalURI: :"../What_More_Can_Graylog_Do_For_Me/Installing_Illuminate_2.0.html"}],-->
    </body>
</html>