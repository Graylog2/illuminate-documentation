<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Update Illuminate Content Hub Manually</title>
    </head>
    <body>
        <div>
            <p>Illuminate content is typically <a href="Illuminate Content Hub.htm#New">updated automatically by Graylog</a>. However, if you are not able to receive these updates in your environment because your Graylog server cannot access the public internet, you need to perform a manual update to receive new Illuminate content.</p>
            <p>The following article describes how to update existing Illuminate content using an externally provided content obtained from <a href="https://go2.graylog.org/contact-sales" target="_blank">your sales representative</a>.</p>
            <p>
                <section class="infoBox">
                    <div class="title" style="font-weight: normal;"><b>Hint</b>:&#160;If your Graylog server cannot access the public internet, you can turn off notifications for new Illuminate versions, since they can generate error messages. Adjust the following setting in your <code class="linecode">server.conf</code> file to turn off Illuminate version notifications:&#160;<code class="linecode">illuminate_hub_new_version_check_interval=0s</code>.</div>
                </section>
            </p>
        </div>
        <div>
            <MadCap:snippetBlock src="../Resources/Snippets/Template Snippets/TaskKASnippets/TaskKAPrereq.flsnp" />
            <ul>
                <li>
                    <p>A valid Enterprise or Security license.</p>
                </li>
                <li>
                    <p>You must be a Graylog administrator.</p>
                </li>
            </ul>
        </div>
        <div>
            <div>
                <h2>Illuminate Content Manual Update</h2>
                <p>To manually update Illuminate content, follow these steps:</p>
                <ol>
                    <li>
                        <p>Request the latest content from <a href="https://go2.graylog.org/contact-sales" target="_blank">your sales representative</a>.</p>
                    </li>
                    <li>
                        <p>Download the file to a system that can be used to access the Graylog server web interface where Illuminate is installed.</p>
                    </li>
                    <li>
                        <p><a href="#Enable">Enable access to the <i>Illuminate Install</i> page</a>.</p>
                    </li>
                    <li>
                        <p><a href="#Upload">Navigate to the <i>Illuminate Install</i> page, then upload the content</a>.</p>
                    </li>
                </ol>
                <h3><a name="Enable"></a>Enable the Installation Page</h3>
                <p>By default, the <i>Illuminate Install</i> page is not accessible through the Graylog web interface. If you need to perform manual updates of Illuminate content, you must first enable the Illuminate Install page:</p>
                <ol>
                    <li>
                        <p>Open your server.conf file with the following command:</p>
                        <MadCap:codeSnippet>
                            <MadCap:codeSnippetCopyButton />
                            <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">sudo nano /etc/graylog/server/server.conf</MadCap:codeSnippetBody>
                        </MadCap:codeSnippet>
                        <p>If prompted, enter your administrator password.</p>
                    </li>
                    <li>
                        <p>Set the <code class="linecode">illuminate_hub_new_version_check_interval</code> property in <code class="linecode">server.conf</code> to <code class="linecode">0s</code>:</p>
                        <MadCap:codeSnippet>
                            <MadCap:codeSnippetCopyButton />
                            <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">illuminate_hub_new_version_check_interval=0s</MadCap:codeSnippetBody>
                        </MadCap:codeSnippet>
                    </li>
                    <li>
                        <p>Save and exit the <code class="linecode">server.conf</code> file. For example, on some consoles, you can select <code class="linecode">Ctrl + X</code> to exit the file, enter <code class="linecode">Y</code> to save the file and overwrite the previous version, and then enter again to save the file with the same name.</p>
                    </li>
                    <li>
                        <p>Restart the Graylog service with the following command:</p>
                        <MadCap:codeSnippet>
                            <MadCap:codeSnippetCopyButton />
                            <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">sudo systemctl restart graylog-server.service</MadCap:codeSnippetBody>
                        </MadCap:codeSnippet>
                    </li>
                </ol>
                <p>After Graylog restarts, you can navigate back to <i>Enterprise &gt; Illuminate</i> and find the <i>Manual Upload Page</i> button on the <i>Content Hub</i> page.</p>
                <p>For more information about updating <code class="linecode">server.conf</code>, see <a href="https://go2docs.graylog.org/current/setting_up_graylog/server.conf.html">Graylog Server Configuration</a>. </p>
                <p>
                    <section class="infoBox">
                        <div class="title" style="font-weight: normal;"><b>Hint</b>: You need to enable this setting only once.  If you will continue to need to use the manual upload option, you can leave the Illuminate Install page accessible in your environment.</div>
                    </section>
                </p>
                <h3><a name="Upload"></a>Upload Content</h3>
                <p>Before proceeding to this section, make sure you have content ready to upload and make sure you have enabled the <i><a href="#Enable">Illuminate Install</a></i> page.</p>
                <ol>
                    <li>
                        <p>Navigate to the <i>Content Hub</i> at <i>Enterprise &gt; Illuminate</i>.</p>
                    </li>
                    <li>
                        <p>Click <i>Manual Upload Page</i>.</p>
                    </li>
                    <li>
                        <p>Drag and drop the new content to the upload box on the right, or click the box, then navigate to find the content.</p>
                    </li>
                </ol>
                <p>The screen shows the installation progress. When all content is installed, the screen returns to the <i>Content Hub</i> where you see the list of all available content packs.</p>
            </div>
        </div>
    </body>
</html>