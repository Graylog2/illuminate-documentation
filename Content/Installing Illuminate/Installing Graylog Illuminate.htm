<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <MadCap:snippetBlock src="../Resources/Snippets/IlluminateBanner.flsnp" />
        <p>Please note this guide assumes you are installing Graylog Illuminate for the first time. This guide also does not cover Illuminate deployments in Graylog Cloud. Please refer to the <a href="../Upgrading Illuminate/Upgrading Graylog Illuminate.htm">Illuminate Upgrade Guide</a> documentation for instructions to upgrade an existing Graylog Illuminate installation.</p>
        <h2>Prerequisites</h2>
        <p>The following is required prior to installing Graylog Illuminate:</p>
        <ul>
            <li>
                <p>A Graylog server running at least version 5.0.0.</p>
            </li>
            <li>
                <p>A valid Operations or Security license.</p>
            </li>
            <li>
                <p>Administrator access to the Graylog server.</p>
            </li>
            <li>
                <p>The Graylog server backend must be able to communicate with <code class="linecode">https://contenthub.graylog.cloud</code> on port 443 in order to use in-app Illuminate download functionality.</p>
            </li>
            <li>
                <p>Illuminate 2.0.0 or greater installed and activated.</p>
            </li>
        </ul>
        <h2>Install Illuminate</h2>
        <p>There are currently two methods of installation for Graylog Illuminate. The following section will describe installation directly via the Graylog interface, which is the preferred method as of Graylog 5.1; however, if your Graylog server cannot access the public internet, then you will need to complete <a href="Installing Illuminate Bundle Manually.htm">a manual installation</a> using a release file obtained from <a href="https://go2.graylog.org/contact-sales">your sales representative</a>. </p>
        <p>
            <section class="warningBox">
                <div class="title" style="font-weight: normal;"><b>Warning</b>:&#160;Users running Graylog with a free Operations license are unable to utilize the following Illuminate installation method and must employ <a href="Installing Illuminate Bundle Manually.htm">the manual method of installing</a> if possible.</div>
            </section>
        </p>
        <h3>Installing Illuminate In Graylog</h3>
        <p>1. Navigate to the Illuminate page by selecting <i>Enterprise</i> &gt; <i>Illuminate</i>.</p>
        <p>2. You will see a notification at the top right of the screen indicating that a new Illuminate bundle is ready to install. You may select <i>Install</i> from this menu, or you can navigate to the <i>Install Another Bundle</i> link located beneath the <i>Illuminate Bundle Version</i> drop-down menu.</p>
        <p>
            <img src="../Resources/Images/Installing Graylog Illuminate/install_illuminate.png" />
        </p>
        <p>3. On this menu select the Illuminate version you wish to install and click the <i>Download &amp; Install</i> button. (You may also wish to preview the available versions by selecting them from the side navigation and reviewing the attached changelogs.)&#160;</p>
        <p>
            <section class="infoBox">
                <div class="title" style="font-weight: normal;"><b>Hint</b>:&#160;Only Illuminate versions 3.3.0+ are available via this download service.</div>
            </section>
        </p>
        <p>
            <img src="../Resources/Images/Installing Graylog Illuminate/install_illuminate_download_and_install.png" />
        </p>
        <p>4. Confirm your installation by selecting <i>Confirm</i> on the pop-up menu to begin the installation process.</p>
        <p>5. Once complete you will receive a notification that Illuminate has been successfully installed.</p>
        <h2><a name="Illumina"></a>Illuminate Pack Selection</h2>
        <p style="font-style: normal;">After the Illuminate installation is complete, navigate back to <i>Enterprise</i> &gt; <i>Illuminate</i> for a list of Illuminate packs that can be activated on your Graylog system. You can enable the following Illuminate packs from this menu:</p>
        <ul>
            <li>
                <p style="font-style: normal;"><a href="#Illumina2">Core Extension Packs</a>
                </p>
            </li>
            <li>
                <p><a href="../Content Packs/Security Content Packs.html">Security Content Packs</a>
                </p>
            </li>
            <li>
                <p><a href="#Illumina3">Spotlight Content Packs</a>
                </p>
            </li>
        </ul>
        <p>
            <img src="../Resources/Images/Installing Graylog Illuminate/install_illuminate_packs.png" />
        </p>
        <h2>Activating Illuminate Packs</h2>
        <p>1. Browse through the list of packs provided by Illuminate using the controls near the bottom of the page, selecting any packs you wish to activate.</p>
        <p>2. When you have selected all of your chosen packs, click <i> Enable Selected</i> on the upper right of the Illuminate packs list window.</p>
        <h2><a name="Illumina2"></a>Illuminate Core Extension Packs</h2>
        <p>There are some Illuminate packs that are optional add-on extensions to the functionality of Illuminate core. The optional packs are:</p>
        <ul>
            <li>
                <p><a href="#About">"Core:Anomaly Detection Add-on"</a>
                </p>
            </li>
            <li>
                <p><a href="#About2">"GIM Enforcement Add-on"</a>
                </p>
            </li>
            <li>
                <p><a href="#About3">"Geolocation and AS Enrichment Add-on for IPinfo Databases"</a>
                </p>
            </li>
            <li>
                <p><a href="#About3">"Geolocation and AS Enrichment Add-on for MaxMind Databases"</a>
                </p>
            </li>
        </ul>
        <h3><a name="About"></a>About the Anomaly Detection Add-on Pack</h3>
        <p>Graylog Security includes an anomaly detection feature, and Graylog Illuminate provides an anomaly detection content pack containing pre-defined rules that work with Illuminate. This add-on provides:</p>
        <ul>
            <li>
                <p>An index set and stream definition for events generated by the anomaly detection functionality in Graylog Security.</p>
            </li>
            <li>
                <p>Rules to enrich events required by Graylog anomaly detection rules pack to analyze events processed by Graylog Illuminate.</p>
            </li>
        </ul>
        <p>
            <section class="warningBox">
                <div class="title" style="font-weight: normal;"><b>Warning</b>:&#160;This pack <b>must</b> be enabled to utilize the Graylog Security anomaly detection functionality with the anomaly detection definitions included in the Graylog Illuminate anomaly detection rules content pack.</div>
            </section>
        </p>
        <h3><a name="About2"></a>About the GIM Enforcement Pack</h3>
        <h4>What is GIM?</h4>
        <p>GIM, short for Graylog Information Model, is how we ensure known types of messages that have been properly categorized will have the necessary fields required for processing.</p>
        <h4>Why Enable GIM Enforcement?</h4>
        <p>GIM Enforcement, when enabled, will ensure that all events that have been categorized and intended to be available for search and aggregation, even if the message has been parsed incorrectly. The GIM Enforcement rules will identify categorized messages that are missing required fields; mark those fields and assign default values for the missing fields. Missing fields can be due to log format changes between versions of a product or unexpected data in the message that the parsing logic did not account for.</p>
        <p>When the GIM Enforcement rules identify a categorized message that is missing a required field, they will add a field named <code class="linecode">gim_error</code> with a value that identifies the categorization assignment that failed, and then they will assign a placeholder value to the fields missing values. The placeholder values assigned depend upon the field type:</p>
        <ul>
            <li>
                <p>Text fields will be assigned the value <code class="linecode">_undefined_</code>.</p>
            </li>
            <li>
                <p>Numeric fields will be assigned the value <code class="linecode">0</code>.</p>
            </li>
            <li>
                <p>IP fields will be assigned the value <code class="linecode">0.0.0.0</code>.</p>
            </li>
        </ul>
        <p>For example, all logon events should have the field <code class="linecode">user_name</code>. With GIM Enforcement enabled, any message that has been categorized but is missing one of these required fields will have a default value assigned, and the field <code class="linecode">gim_error</code> will be added indicating that the message is incomplete. This will ensure that searches, which look for logon messages by <code class="linecode">user_name</code>, will include these messages in related search results and aggregations.</p>
        <p>Without GIM enforcement messages may not be included in search results or aggregations if they have been improperly parsed or if they are malformed in some way.</p>
        <p>We recommend enabling GIM enforcement at least occasionally when troubleshooting field extraction issues or performing a test or review of data quality.</p>
        <p>
            <section class="warningBox">
                <div class="title" style="font-weight: normal;"><b>Warning</b>:&#160;<span style="font-weight: normal;">Be aware that enabling GIM Enforcement will incur additional slight computational costs per categorized message.</span></div>
            </section>
        </p>
        <h3><a name="About3"></a>About the Geolocation and Autonomous System (AS) Packs</h3>
        <p>Two technology packs support geolocation and ASN enrichment: one supporting MaxMind city and AS databases and another supporting IPinfo city and AS databases.</p>
        <p>
            <section class="warningBox">
                <div class="title" style="font-weight: normal;"><b>Warning</b>:&#160;We recommend that you activate only one of these packs. As they both provide similar functionality, enabling both will increase the computational cost of processing messages with no benefit.</div>
            </section>
        </p>
        <h4>Illuminate Geolocation and AS Deprecation Notice</h4>
        <p>The Graylog Illuminate Geolocation and AS enrichment processing packs are deprecated and will be removed from a future version of Graylog Illuminate. The functionality of these packs is replaced by the Geolocation Processor. Instead of using the Illuminate Geolocation Processor packs, please configure the Geolocation Processor, making sure the <i>Enforce default Graylog schema</i> option is selected.</p>
        <h4>Enabling MaxMind Geolocation and ASN Enrichment</h4>
        <p>The “Geolocation and AS Enrichment Add-on for MaxMind Databases Geolocation and ASN Enrichment” requires that two files be installed on every Graylog Operations node in your cluster:</p>
        <ul>
            <li>
                <p>The MaxMind City database in MMDB format with the file name <code class="linecode">GeoLite2-City.mmdb</code>.</p>
            </li>
            <li>
                <p>The MaxMind AS database in MMDB format with the file name <code class="linecode">GeoLite2-ASN.mmdb</code>.</p>
            </li>
        </ul>
        <p>These files must be placed in the directory <code class="linecode">/etc/graylog/server</code> on all Graylog nodes in your cluster for the enrichment to function properly.</p>
        <h4>Enabling IPinfo Geolocation and ASN Enrichment</h4>
        <p>The “Geolocation and AS Enrichment Add-on for IPinfo Databases” requires that two files be installed on every Graylog Operations node in your cluster:</p>
        <ul>
            <li>
                <p>The IPinfo City database in MMDB format with the file name <code class="linecode">standard_location.mmdb</code>.</p>
            </li>
            <li>
                <p>The IPinfo ASN database in MMDB format with the file name <code class="linecode">asn.mmdb</code>.</p>
            </li>
        </ul>
        <p>These files must be placed in the directory <code class="linecode">/etc/graylog/server</code> on all Graylog nodes in your cluster for the enrichment to function properly.</p>
        <h2><a name="Illumina3"></a>Illuminate Spotlights</h2>
        <p>The Illuminate "Spotlight" content packs are a component of Illuminate that contain Graylog web interface content such as dashboards and saved searches.</p>
        <p>Most of the Spotlight content packs are product focused and are a companion to the Illuminate packs included in the Illuminate bundle, but there are additional content packs included that provide other content.</p>
        <p>Installation of the Spotlight content packs is optional and does not affect the operation of the Illuminate processing packs.</p>
        <h2>Additional Spotlight Content</h2>
        <p>In addition to the product Spotlight content packs, there are some additional content packs included with Illuminate:</p>
        <ul>
            <li>
                <p><b>The Message Summaries content pack (for Graylog Security 5.0.0+)</b>: summarizes messages in the message view that have been categorized according to the GIM model, called "message summaries."</p>
            </li>
            <li>
                <p><b>Event Definition content packs</b>: contains pre-defined event definitions.</p>
            </li>
        </ul>
    </body>
</html>