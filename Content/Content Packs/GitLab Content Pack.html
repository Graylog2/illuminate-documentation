<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head> <title>GitLab Content Pack</title></head>
    <body>
        <p>GitLab is a complete DevOps platform that provides Git-based source code management, CI/CD automation, security scanning, and project collaboration in a single application, available as both cloud-hosted and self-managed solutions.</p>
        <p> This pack parses and configures GitLab logs.</p>
        <h3>Requirement(s)</h3>
        <ul>
            <li>
                <p>A Graylog server with a valid Enterprise license that is running Graylog version <b>6.1.3 </b>
            </li>
            <li>
                <p>This pack is tested with GitLab version 17.9.</p>
            </li>
            <li>
                <p>This pack requies the use of the Raw HTTP input.</p>
            </li>
        </ul>
        <h3>What is Provided</h3>
        <p>This pack includes parsing rules that convert GitLab logs into Graylog schema-compatible fields.</p>
        <h3>Input via Filebeat Together with Graylog Sidecar</h3>
        <p>Please follow the <a href="https://go2docs.graylog.org/5-1/getting_in_log_data/graylog_sidecar.html">official documentation</a>. You will need to configure your Graylog server and your client(s).</p>
        <p>To do this:</p>
        <ol>
            <li>
                <p>Create an input and an API key. Then set up Graylog sidecar. </p>
            </li>
            <li>
                <p>Add your clients, e.g. web server.</p>
            </li>
        </ol>
        <p>
            <section class="infoBox">
                <div class="title"><b>Hint: </b><span style="font-weight: normal;">It is possible to run the GitLab webserver and Graylog on the same machine.</span>
                </div>
            </section>
        </p>
        <h4>Graylog Server Settings</h4>
        <ol>
            <li>
                <p>Create a global Raw HTTP input in Graylog.</p>
            </li>

            <li>
                <p>Configure the log source to the desired value and configure the field <code class="linecode">event_source_product</code> with the value <code class="linecode">GitLab-web</code>.</p>
            </li>
      
        <h3>Log Format Examples:</h3>
        <MadCap:codeSnippet>
            <MadCap:codeSnippetCopyButton>&#160;</MadCap:codeSnippetCopyButton>
            <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">Access Logs version 1.18
127.0.0.1 - - [04/Mar/2023:19:25:07 -0600] "GET / HTTP/1.1" 200 3543 "-" "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/109.0"

Access Logs version 1.24
127.0.0.1 - - [13/Sep/2023:08:34:54 -0500] "GET / HTTP/1.1" 200 615 "-" "Mozilla/5.0 (X11; Linux x86_64; rv:103.0) Gecko/20100101 Firefox/103.0" "-"

Error Logs:
2023/03/05 09:34:46 [emerg] 2032#2032: no "ssl_certificate" is defined for the "listen ... ssl" directive in /etc/GitLab/sites-enabled/default:21

2023/01/05 11:50:44 [error] 22053#0: *3 open() "/usr/local/stefan/GitLab/1.10.2_1/html/stest" failed</MadCap:codeSnippetBody>
        </MadCap:codeSnippet>
        <p>
            <section class="infoBox">
                <div class="title"><b>Hint:  </b><span style="font-weight: normal;">These are default fields or values found in the combined log format. Logs with custom fields, formats or ordering may be problematic.</span>
                </div>
            </section>
        </p>
        <h3>GitLab Spotlight Content Pack</h3>
        <p>The GitLab content pack provides an Overview Dashboard, a Web Overview Dashboard and a User Overview Dashboard.</p>
    </body>
</html>
