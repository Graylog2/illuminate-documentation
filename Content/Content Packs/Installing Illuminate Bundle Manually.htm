<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <MadCap:snippetBlock src="../Resources/Snippets/IlluminateBanner.flsnp" />
        <p>The following article describes how to install Illuminate using an externally provided bundle obtained from <a href="https://go2.graylog.org/contact-sales">your sales representative</a>. For information on how to download Illuminate via the Graylog interface, which is the preferred method of installation, see <a href="../Drafts/Installing Graylog Illuminate.htm">the related documentation</a>.</p>
        <p>It is recommended that you use this article for installation if your Graylog server cannot access the public internet or if you are operating Graylog with a free Operations license.</p>
        <p>
            <section class="infoBox">
                <div class="title" style="font-weight: normal;"><b>Hint</b>: If your Graylog server cannot access the public internet, then you may also wish to turn off notifications for new Illuminate versions as this may generate error messages. Adjust the following setting in your <code class="linecode">server.conf</code> file to turn off Illuminate version notifications: <code class="linecode">illuminate_hub_new_version_check_interval=0s</code>.</div>
            </section>
        </p>
        <h2>Prerequisites</h2>
        <p>The following is required prior to installing Graylog Illuminate:</p>
        <ul>
            <li>
                <p>A Graylog server running at least version 5.0.0.</p>
            </li>
            <li>
                <p>A valid Operations or Security license.</p>
            </li>
            <li>
                <p>Administrator access to the Graylog server.</p>
            </li>
        </ul>
        <h2>Download the Illuminate Bundle</h2>
        <p>Once you have <a href="https://go2.graylog.org/contact-sales">obtained the Illuminate bundle</a>, download the file to a system that can be used to access the Graylog server web interface where Illuminate will be installed.</p>
        <h2>Illuminate Installation With The Graylog Web Interface</h2>
        <ol>
            <li>
                <p>Log into your Graylog web interface using an account that has administrative privileges.</p>
            </li>
            <li>
                <p>Click on the <i>Enterprise</i> menu and select <i>Illuminate</i>.</p>
            </li>
        </ol>
        <p>
            <img src="../Resources/Images/Installing Graylog Illuminate/navigate_to_illuminate.gif" />
        </p>
        <h2>Installing Graylog Illuminate</h2>
        <p>When installing Illuminate for the first time, you will be presented with the <i>Illuminate Install</i> page after navigating to the Illuminate menu. It will contain a box on the right side of the page with the text, "Drag &amp; Drop your Illuminate package here, or click to choose manually."</p>
        <p>
            <img src="../Resources/Images/Installing Graylog Illuminate/bundle_upload_dialog.png" />
        </p>
        <h2>Upload the Illuminate Bundle</h2>
        <p>Upload the bundle using one of two methods:</p>
        <ul>
            <li>
                <p>Manual</p>
                <ul>
                    <li>
                        <p>You can click on the box to open a file browser window on your local system, browse to the directory where the Illuminate bundle zip file was downloaded, select the Illuminate bundle zip file, and then click <i>Open</i>.</p>
                    </li>
                </ul>
            </li>
            <li>
                <p>Drag and Drop</p>
                <ul>
                    <li>
                        <p>You can drag and drop the bundle zip file from a file explorer window on your operating system to the <i>drag &amp; drop</i> section of the installer page.</p>
                    </li>
                </ul>
            </li>
        </ul>
        <p>After the bundle has uploaded, you will see a message informing you that the bundle was uploaded successfully but that the previous version is still active until you activate the upgraded bundle.</p>
        <h2>
            <img src="../Resources/Images/Upgrading Graylog Illuminate/upgrade_bundle_uploaded.png">
            </img>
        </h2>
        <p>Click on the <i>Continue to Packs Manager</i> link. This will return you to the <i>Illuminate Processing Packs</i> page.</p>
        <h2>Illuminate Pack Selection</h2>
        <p style="font-style: normal;">After the Illuminate installation is complete, navigate back to <i>Enterprise</i> &gt; <i>Illuminate</i> for a list of Illuminate packs that can be activated on your Graylog system. You can enable the following Illuminate packs from this menu:</p>
        <ul>
            <li>
                <p style="font-style: normal;"><a href="#Illumina">Core Extension Packs</a>
                </p>
            </li>
            <li>
                <p><a href="Security Content Packs.html">Security Content Packs</a>
                </p>
            </li>
            <li>
                <p><a href="#Illumina2">Spotlight Content Packs</a>
                </p>
            </li>
        </ul>
        <p>
            <img src="../Resources/Images/Installing Graylog Illuminate/install_illuminate_packs.png">
            </img>
        </p>
        <h2>Activating Illuminate Packs</h2>
        <p>1. Browse through the list of packs provided by Illuminate using the controls near the bottom of the page, selecting any packs you wish to activate.</p>
        <p>2. When you have selected all of your chosen packs, click <i> Enable Selected</i> on the upper right of the Illuminate packs list window.</p>
        <h2><a name="Illumina"></a>Illuminate Core Extension Packs</h2>
        <p>There are some Illuminate packs that are optional add-on extensions to the functionality of Illuminate core. The optional packs are:</p>
        <ul>
            <li>
                <p><a href="#About">"Core:Anomaly Detection Add-on"</a>
                </p>
            </li>
            <li>
                <p><a href="#About2">"GIM Enforcement Add-on"</a>
                </p>
            </li>
            <li>
                <p><a href="#About3">"Geolocation and AS Enrichment Add-on for IPinfo Databases"</a>
                </p>
            </li>
            <li>
                <p><a href="#About3">"Geolocation and AS Enrichment Add-on for MaxMind Databases"</a>
                </p>
            </li>
        </ul>
        <h3><a name="About"></a>About the Anomaly Detection Add-on Pack</h3>
        <p>Graylog Security includes an anomaly detection feature, and Graylog Illuminate provides an anomaly detection content pack containing pre-defined rules that work with Illuminate. This add-on provides:</p>
        <ul>
            <li>
                <p>An index set and stream definition for events generated by the anomaly detection functionality in Graylog Security.</p>
            </li>
            <li>
                <p>Rules to enrich events required by Graylog anomaly detection rules pack to analyze events processed by Graylog Illuminate.</p>
            </li>
        </ul>
        <p>This pack must be enabled to utilize the Graylog Security anomaly detection functionality with the anomaly detection definitions included in the Graylog Illuminate anomaly detection rules content pack.</p>
        <h3>About the GIM Enforcement Pack</h3>
        <h4>What is GIM?</h4>
        <p>GIM, short for Graylog Information Model, is how we ensure known types of messages that have been properly categorized will have the necessary fields required for processing.</p>
        <h4>Why Enable GIM Enforcement?</h4>
        <p>GIM Enforcement, when enabled, will ensure that all events that have been categorized and intended to be available for search and aggregation, even if the message has been parsed incorrectly. The GIM Enforcement rules will identify categorized messages that are missing required fields; mark those fields and assign default values for the missing fields. Missing fields can be due to log format changes between versions of a product or unexpected data in the message that the parsing logic did not account for.</p>
        <p>When the GIM Enforcement rules identify a categorized message that is missing a required field, they will add a field named <code class="linecode">gim_error</code> with a value that identifies the categorization assignment that failed, and then they will assign a placeholder value to the fields missing values. The placeholder values assigned depend upon the field type:</p>
        <ul>
            <li>
                <p>Text fields will be assigned the value <code class="linecode">_undefined_</code>.</p>
            </li>
            <li>
                <p>Numeric fields will be assigned the value <code class="linecode">0</code>.</p>
            </li>
            <li>
                <p>IP fields will be assigned the value <code class="linecode">0.0.0.0</code>.</p>
            </li>
        </ul>
        <p>For example, all logon events should have the field <code class="linecode">user_name</code>. With GIM Enforcement enabled, any message that has been categorized but is missing one of these required fields will have a default value assigned, and the field <code class="linecode">gim_error</code> will be added indicating that the message is incomplete. This will ensure that searches, which look for logon messages by <code class="linecode">user_name</code>, will include these messages in related search results and aggregations.</p>
        <p>Without GIM enforcement messages may not be included in search results or aggregations if they have been improperly parsed or if they are malformed in some way.</p>
        <p>We recommend enabling GIM enforcement at least occasionally when troubleshooting field extraction issues or performing a test or review of data quality.</p>
        <p>
            <section class="warningBox">
                <div class="title" style="font-weight: normal;"><b>Warning</b>:&#160;<span style="font-weight: normal;">Be aware that enabling GIM Enforcement will incur additional slight computational costs per categorized message.</span></div>
            </section>
        </p>
        <h3>About the Geolocation and Autonomous System (AS) Packs</h3>
        <p>Two technology packs support geolocation and ASN enrichment: one supporting MaxMind city and AS databases and another supporting IPinfo city and AS databases.</p>
        <p>
            <section class="warningBox">
                <div class="title" style="font-weight: normal;"><b>Warning</b>:&#160;We recommend that you activate only one of these packs. As they both provide similar functionality, enabling both will increase the computational cost of processing messages with no benefit.</div>
            </section>
        </p>
        <h4>Illuminate Geolocation and AS Deprecation Notice</h4>
        <p>The Graylog Illuminate Geolocation and AS enrichment processing packs are deprecated and will be removed from a future version of Graylog Illuminate. The functionality of these packs is replaced by the Geolocation Processor. Instead of using the Illuminate Geolocation Processor packs, please configure the Geolocation Processor, making sure the <i>Enforce default Graylog schema</i> option is selected.</p>
        <h4>Enabling MaxMind Geolocation and ASN Enrichment</h4>
        <p>The “Geolocation and AS Enrichment Add-on for MaxMind Databases Geolocation and ASN Enrichment” requires that two files be installed on every Graylog Operations node in your cluster:</p>
        <ul>
            <li>
                <p>The MaxMind City database in MMDB format with the file name <code class="linecode">GeoLite2-City.mmdb</code>.</p>
            </li>
            <li>
                <p>The MaxMind AS database in MMDB format with the file name <code class="linecode">GeoLite2-ASN.mmdb</code>.</p>
            </li>
        </ul>
        <p>These files must be placed in the directory <code class="linecode">/etc/graylog/server</code> on all Graylog nodes in your cluster for the enrichment to function properly.</p>
        <h4>Enabling IPinfo Geolocation and ASN Enrichment</h4>
        <p>The “Geolocation and AS Enrichment Add-on for IPinfo Databases” requires that two files be installed on every Graylog Operations node in your cluster:</p>
        <ul>
            <li>
                <p>The IPinfo City database in MMDB format with the file name <code class="linecode">standard_location.mmdb</code>.</p>
            </li>
            <li>
                <p>The IPinfo ASN database in MMDB format with the file name <code class="linecode">asn.mmdb</code>.</p>
            </li>
        </ul>
        <p>These files must be placed in the directory <code class="linecode">/etc/graylog/server</code> on all Graylog nodes in your cluster for the enrichment to function properly.</p>
        <h2><a name="Illumina2"></a>Illuminate Spotlights</h2>
        <p>The Illuminate "Spotlight" content packs are a component of Illuminate that contain Graylog web interface content such as dashboards and saved searches.</p>
        <p>Most of the Spotlight content packs are product focused and are a companion to the Illuminate packs included in the Illuminate bundle, but there are additional content packs included that provide other content.</p>
        <p>Installation of the Spotlight content packs is optional and does not affect the operation of the Illuminate processing packs.</p>
        <h2>Additional Spotlight Content</h2>
        <p>In addition to the product Spotlight content packs, there are some additional content packs included with Illuminate:</p>
        <ul>
            <li>
                <p><b>The Message Summaries content pack (for Graylog Security 5.0.0+)</b>: summarizes messages in the message view that have been categorized according to the GIM model, called "message summaries."</p>
            </li>
            <li>
                <p><b>Event Definition content packs</b>: contains pre-defined event definitions.</p>
            </li>
        </ul>
    </body>
</html>