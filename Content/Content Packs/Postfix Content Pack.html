<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="Resources/TableStyles/Alternate-Row-Color.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>Postfix Content Pack</title>
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
    </head>
    <body>
        <MadCap:snippetBlock src="Resources/Snippets/IlluminateBanner.flsnp" />
        <p><span style="background-color: #ffff00;">[Postfix is a free and open-source mail transfer agent (MTA) that routes and delivers electronic mail.It is known for its easy configuration, secure default settings, and efficient management of system resources.]</span>
        </p>
        <h2>Supported Version(s)</h2>
        <ul>
            <li><span style="background-color: #ffff00;">[Tested with Postfix version 3.7 but lower versions may work, too.]</span>
            </li>
        </ul>
        <h2>Requirements</h2>
        <ul>
            <li><span style="background-color: #ffff00;">[* Graylog Server with a valid enterprise license, running Graylog version 5.2.4 or later]</span>
            </li>
        </ul>
        <h2>Stream Configuration</h2>
        <p>This technology pack includes <span style="background-color: #ffff00;">[1]</span> stream:</p>
        <ul>
            <li><span style="background-color: #ffff00;">[Illuminate:Postfix Mail Server Messages]</span>
            </li>
        </ul>
        <p>
            <section class="infoBox">
                <div class="title" style="font-weight: normal;"><b>Hint</b>:  If this stream does not exist prior to the activation of this pack then it will be created and configured to route messages to this stream and the associated index set. There should not be any stream rules configured for this stream.</div>
            </section>
        </p>
        <h2>Index Set Configuration</h2>
        <p>This technology pack includes <span style="background-color: #ffff00;">[1]</span> index set definition:</p>
        <ul>
            <li><span style="background-color: #ffff00;">[Postfix Mail Server Logs]</span>
            </li>
        </ul>
        <p>
            <section class="infoBox">
                <div class="title" style="font-weight: normal;"><b>Hint</b>:  If this index set is already defined, then nothing will be changed. If this index set does not exist, then it will be created with retention settings of a daily rotation and 90 days of retention. These settings can be adjusted as required after installation.</div>
            </section>
        </p>
        <h2>Log Collection</h2>
        <ul>
            <li><span style="background-color: #ffff00;">[Syslog]</span>
            </li>
        </ul>
        <h2><span style="background-color: #ffff00;">[Syslog]</span> Configuration</h2>
        <p><span style="background-color: #ffff00;">[Postfix sends the logs by default directly into syslog. First: create a matching Syslog input in Graylog. Second: Configure your syslog server (e.g rsyslog) to send the logs to Graylog.]</span>
        </p>
        <h2>Log Format Example</h2>
        <p><span style="background-color: #ffff00;">[
        <h3>Bounce logs</h3>
            `Jan 10 12:29:22 mailserver postfix/bounce[12345]: 24F202322: sender delay notification: 0A27A1222`
        <h3>Cache logs</h3>
            `Jan 10 12:29:22 mailserver postfix/cache[12345]: 24F202322: cache lmdb:/var/lib/postfix/verify_cache full cleanup: retained=722 dropped=26 entries`
        <h3>Connect logs</h3>
            `connect to intern.nl[10.10.10.10]:25: Connection timed out`
        <h3>From logs</h3>
             `1234567222: from=<user@graylog.com>, size=3527, nrcpt=1 (queue active)`
        <h3>To logs</h3>
             `1234567222: to=, relay=none, delay=22, delays=22/0.02/0/0, dsn=4.4.1, status=deferred (connect to 127.0.0.1[127.0.0.1]:2525: Connection refused)`]</span>
        </p>
        <h2 id="what-is-provided">What is Provided</h2>
        <ul>
            <li>
                <p><span style="background-color: #ffff00;">[* Rules to normalize and enrich Postfix log messages and a dashboard with four tabs.
]</span>
                </p>
            </li>
        </ul>
        <table style="width: 100%;mc-table-style: url('Resources/TableStyles/Alternate-Row-Color.css');" class="TableStyle-Alternate-Row-Color" cellspacing="21">
            <col class="TableStyle-Alternate-Row-Color-Column-Column1" />
            <col class="TableStyle-Alternate-Row-Color-Column-Column1" />
            <col class="TableStyle-Alternate-Row-Color-Column-Column1" />
            <thead>
                <tr class="TableStyle-Alternate-Row-Color-Head-Header1">
                    <th class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">&#160;</th>
                    <th class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">&#160;</th>
                    <th class="TableStyle-Alternate-Row-Color-HeadD-Column1-Header1">&#160;</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body1">&#160;</td>
                </tr>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body2">
                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body2">&#160;</td>
                </tr>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body1">&#160;</td>
                </tr>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body2">
                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body2">&#160;</td>
                </tr>
                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                    <td class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body1">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body1">&#160;</td>
                    <td class="TableStyle-Alternate-Row-Color-BodyA-Column1-Body1">&#160;</td>
                </tr>
            </tbody>
        </table>
        <h2 id="events-processed-by-this-technology-pack">Events Processed by This Technology Pack</h2>
        <p>The <span style="background-color: #ffff00;">[Postfix]</span> content pack supports <span style="background-color: #ffff00;">[
            <p>Bounce Logs</p>
            <p>Cache Logs</p>
            <p>Certificate Logs</p>
            <p>Client Logs</p>
            <p>Connect Logs</p>
            <p>DNS Logs</p>
            <p>Lost Connection Logs</p>
            <p>Mail from Logs</p>
            <p>Mail to Logs</p>
            <p>Master Logs</p>
            <p>Pickup Logs</p>
            <p>Postsuper Logs</p>
            <p>Proxy Logs</p>
            <p>PS Access Logs</p>
            <p>PS Noqueue Logs</p>
            <p>PS Violation Logs</p>
            <p>QMGR Action Logs</p>
            <p>SASL Failed Logs</p>
            <p>Statistics Logs</p>
            <p>Tls Connection Logs</p>
            <p>Workaround Logs</p>]
        </span>.</p>
        <h2 id="packetbeat-spotlight-content-pack"><span style="background-color: #ffff00;">[Graylog Illuminate:Postfix Spotlight]</span> Spotlight Content Pack</h2>
        <p><span style="background-color: #ffff00;">[Graylog Illuminate:Postfix Spotlight]</span> offers a dashboard with <span style="background-color: #ffff00;">[4]</span> tabs: <span style="background-color: #ffff00;">[Postfix Mail Server Overview, Postfix Email Overview, Postfix SMPT Overview, TLS Overview]</span>.</p>
        <p><span style="background-color: #ffff00;">[ 
            <img src="../Resources/Images/Postfix Content Pack/Mail_Server_Overview.png" />
            <img src="../Resources/Images/Postfix Content Pack/Email_Overview" />
            <img src="../Resources/Images/Postfix Content Pack/SMTP_Overview.png" />
            <img src="../Resources/Images/Postfix Content Pack/TLS_Overview.png" />
]</span>
        </p>
    </body>
</html>
