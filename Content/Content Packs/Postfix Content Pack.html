<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Postfix Content Pack</title>
    </head>
    <body>
        <MadCap:snippetBlock src="../Resources/Snippets/IlluminateBanner.flsnp" />
        <p>Postfix is a free and open-source mail transfer agent (MTA) that routes and delivers electronic mail.It is known for its easy configuration, secure default settings, and efficient management of system resources.
        </p>
        <h2>Supported Version(s)</h2>
        <ul>
            <li>Tested with Postfix version 3.7, but earlier versions may be compatible. <![CDATA[
            ]]></li>
        </ul>
        <h2>Requirements</h2>
        <ul>
            <li> Graylog server with a valid Enterprise license, running Graylog version 5.2.4 or later.
            </li>
        </ul>
        <h2>Stream Configuration</h2>
        <p>This technology pack includes 1 stream:</p>
        <ul>
            <li>"Illuminate:Postfix Mail Server Messages"
            </li>
        </ul>
        <p>
            <section class="infoBox">
                <div class="title" style="font-weight: normal;"><b>Hint</b>:  If this stream does not exist prior to the activation of this pack then it will be created and configured to route messages to this stream and the associated index set. There should not be any stream rules configured for this stream.</div>
            </section>
        </p>
        <h2>Index Set Configuration</h2>
        <p>This technology pack includes 1 index set definition:</p>
        <ul>
            <li>"Postfix Mail Server Logs"
            </li>
        </ul>
        <p>
            <section class="infoBox">
                <div class="title" style="font-weight: normal;"><b>Hint</b>:  If this index set is already defined, then nothing will be changed. If this index set does not exist, then it will be created with retention settings of a daily rotation and 90 days of retention. These settings can be adjusted as required after installation.</div>
            </section>
        </p>
        <h2>Log Collection</h2>
        <ul>
            <li>Syslog
            </li>
        </ul>
        <h2>Syslog Configuration</h2>
        <p>Postfix sends the logs by default directly into syslog.</p>
        <ol>
            <li>
                <p> Create a matching <a href="https://go2docs.graylog.org/current/getting_in_log_data/syslog_inputs.html">syslog input</a> in Graylog. </p>
            </li>
            <li>
                <p>Configure your syslog server (e.g. rsyslog) to send the logs to Graylog.
        </p>
            </li>
        </ol>
        <h2>Log Format Examples</h2>
        <h4>Bounce Logs</h4>
        <p><code class="linecode">
            `Jan 10 12:29:22 mailserver postfix/bounce[12345]: 24F202322: sender delay notification: 0A27A1222`
</code><![CDATA[        ]]></p>
        <h4>Cache Logs</h4>
        <p><![CDATA[
            ]]><code class="linecode">`Jan 10 12:29:22 mailserver postfix/cache[12345]: 24F202322: cache lmdb:/var/lib/postfix/verify_cache full cleanup: retained=722 dropped=26 entries`
</code><![CDATA[        ]]></p>
        <h4>Connect Logs</h4>
        <p><code class="linecode">
            `connect to intern.nl[10.10.10.10]:25: Connection timed out`
</code><![CDATA[        ]]></p>
        <h4>From Logs</h4>
        <p><code class="linecode">
             `1234567222: from=&lt;user@graylog.com&gt;, size=3527, nrcpt=1 (queue active)`
</code><![CDATA[        ]]></p>
        <h3>To logs</h3>
        <p><code class="linecode">`1234567222: to=, relay=none, delay=22, delays=22/0.02/0/0, dsn=4.4.1, status=deferred (connect to 127.0.0.1[127.0.0.1]:2525: Connection refused)`</code>
        </p>
        <h2>What is Provided</h2>
        <ul>
            <li>
                <p> Rules to normalize and enrich Postfix log messages and a dashboard with four tabs.
                </p>
            </li>
        </ul>
        <h2>Events Processed by This Technology Pack</h2>
        <p>The Postfix content pack supports:</p>
        <ul>
            <li>
                <p>Bounce Logs</p>
            </li>
            <li>
                <p>Cache Logs</p>
            </li>
            <li>
                <p>Certificate Logs</p>
            </li>
            <li>
                <p>Client Logs</p>
            </li>
            <li>
                <p>Connect Logs</p>
            </li>
            <li>
                <p>DNS Logs</p>
            </li>
            <li>
                <p>Lost Connection Logs</p>
            </li>
            <li>
                <p>Mail from Logs</p>
            </li>
            <li>
                <p>Mail to Logs</p>
            </li>
            <li>
                <p>Master Logs</p>
            </li>
            <li>
                <p>Pickup Logs</p>
            </li>
            <li>
                <p>Postsuper Logs</p>
            </li>
            <li>
                <p>Proxy Logs</p>
            </li>
            <li>
                <p>PS Access Logs</p>
            </li>
            <li>
                <p>PS Noqueue Logs</p>
            </li>
            <li>
                <p>PS Violation Logs</p>
            </li>
            <li>
                <p>QMGR Action Logs</p>
            </li>
            <li>
                <p>SASL Failed Logs</p>
            </li>
            <li>
                <p>Statistics Logs</p>
            </li>
            <li>
                <p>Tls Connection Logs</p>
            </li>
            <li>
                <p>Workaround Logs</p>
            </li>
        </ul>
        <h2>Graylog Illuminate:Postfix Spotlight Spotlight Content Pack</h2>
        <p>The Graylog "Illuminate:Postfix Spotlight" offers a dashboard with 4 tabs: Postfix Mail Server Overview, Postfix Email Overview, Postfix SMPT Overview, TLS Overview:</p>
        <p>&#160;</p>
        <img src="../Resources/Images/Postfix Content Pack/Mail_Server_Overview.png" />
        <p>
            <img src="../Resources/Images/Postfix Content Pack/Email_Overview.png" />
        </p>
        <p>
            <img src="../Resources/Images/Postfix Content Pack/SMTP_Overview.png" />
        </p>
        <p>
            <img src="../Resources/Images/Postfix Content Pack/TLS_Overview.png" />
        </p>
    </body>
</html>