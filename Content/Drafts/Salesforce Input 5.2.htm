<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <p>Salesforce provides business management, customer relationship management, and sales tools in an online Cloud platform. The Salesforce system generates various type of logs that Graylog can consume via the <a href="https://developer.salesforce.com/docs/atlas.en-us.object_reference.meta/object_reference/sforce_api_objects_eventlogfile.htm">EventLogFile API</a>. See the official documentation for <a href="https://developer.salesforce.com/docs/atlas.en-us.object_reference.meta/object_reference/sforce_api_objects_eventlogfile_supportedeventtypes.htm">all supported log event types</a>.</p>
        <h2>Prerequisites</h2>
        <ul>
            <li>
                <p>A Salesforce subscription that includes the <a href="https://www.salesforce.com/form/conf/platform-event-monitoring/">Salesforce Event Monitoring add-on</a>, which is required to obtain all of the data presented in the app dashboards.</p>
            </li>
        </ul>
        <h2>Required Salesforce Setup</h2>
        <p>In order for Graylog to connect to the Salesforce EventLogFile API:</p>
        <ol>
            <li>
                <p>First, create a Connected App in the App Manager modal. (See <a href="https://help.salesforce.com/s/articleView?language=en_US&amp;id=sf.connected_app_create_basics.htm&amp;type=5">the Salesforce documentation</a> for more details.) </p>
            </li>
            <li>
                <p>Ensure during this initial setup that the EventLogFile API has read permission for the Graylog application. </p>
            </li>
            <li>
                <p>Then, configure OAuth for the Connected App, which will produce the Client ID and Secret that Graylog needs to successfully connect to the Salesforce API. (See <a href="https://help.salesforce.com/s/articleView?id=sf.connected_app_client_credentials_setup.htm&amp;type=5">the Salesforce documentation</a> for more details.) </p>
            </li>
        </ol>
        <p>Now, you can configure the input in your Graylog environment. </p>
        <h2>Graylog Configuration</h2>
        <p>When launching a new Salesforce input from the Graylog <i>Inputs</i> tab, the following parameters will need to be completed:</p>
        <ul>
            <li>
                <p><b>Input Name</b>: Provide a unique name for your new input.</p>
            </li>
            <li>
                <p><b>Instance Name</b>: Your domain name to which the content belongs.</p>
            </li>
            <li>
                <p><b>Salesforce Client ID</b>: The Client ID of the Salesforce Connected App created with sufficient API permissions.</p>
            </li>
            <li>
                <p><b>Client Secret</b>: The Client Secret of the Salesforce Connected App.</p>
            </li>
            <li>
                <p><b>Logs Types to Collect</b>: The activity log for the above content types will be fetched.</p>
            </li>
            <li>
                <p><b>Polling Interval</b>: Determines how often (in minutes) Graylog will check for new data in Salesforce. The smallest allowable interval is 5 minutes.</p>
            </li>
            <li>
                <p><b>Enable Throttling</b>: If enabled, no new messages will be read from this input until Graylog catches up with its message load. This is typically useful for inputs reading from files or message queue systems like AMQP or Kafka. If you regularly poll an external system, e.g. via HTTP, then you normally want to leave this disabled.</p>
            </li>
        </ul>
        <p>
            <img src="../Resources/Images/Salesforce Input/Salesforce Input Setup.png" style="width: 888px;height: 510px;" />
        </p>
    </body>
</html>